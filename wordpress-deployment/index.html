<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>reveal.js â€“ The HTML Presentation Framework</title>

        <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
        <meta name="author" content="Hakim El Hattab">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">


        <link href='https://fonts.googleapis.com/css?family=Oswald:400,700|Libre+Baskerville' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="../css/reveal.css">
        <link rel="stylesheet" href="../css/theme/black.css" id="theme">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="../lib/css/zenburn.css">
        <link rel="stylesheet" href="style.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section id="home" data-background="images/home.jpg">
                    <h1><span id="deploying">Deploying</span> <br><span class="wordpress"><span class="word">Word</span><span class="press">Press</span></span> <br><span id="likeapro">Like&nbsp;a&nbsp;Pro</span></h1>
                    <p id="byauthor">
                        By <a href="http://www.berriart.com/">Alberto Varela</a>
                    </p>
                </section>

                <section>
                    <h2 class="mini">Who is speaking?</h2>
                    <div class=" fragment">
                        <img style="border:0;box-shadow:none;margin:0;width:600px;" data-src="images/travioor.jpg" alt="Travioor" >
                        <p><a href="http://www.berriart.com">Alberto Varela</a>, currently working at <a href="http://www.travioor.com">Travioor</a></p>
                        <p class=" fragment"><small style="color:#666;"><a style="color:#666;" href="http://www.berriart.com">www.berriart.com</a> | alberto@berriart.com | <a style="color:#666;" href="http://twitter.com/artberri">@artberri</a></small>
                        </p>
                    </div>
                </section>

                <section data-transition="fade-in">
                    <h2 class="mini">Websites <span>VS</span> Professional Websites</h2>
                    <br>
                    <div class="fragment">
                        <img width="440" data-src="images/suzanne.png" alt="Done stamp" >
                    </div>
                </section>

                <section data-transition-speed="fast" data-transition="fade-in ">
                    <h2 class="mini">Websites <span>VS</span> Professional Websites</h2>
                    <br>
                    <div>
                        <img width="440" data-src="images/10up.png" alt="Done stamp" >
                    </div>
                </section>

                <section  data-transition="fade-in ">
                    <h2 class="mini">Deployments <span>VS</span> Professional Deployments</h2>
                    <br>
                    <div  class=" fragment">
                        <img width="440" data-src="images/minion2.gif" alt="Done stamp" >
                    </div>
                </section>

                <section data-transition-speed="fast" data-transition="fade-in">
                    <h2 class="mini">Deployments <span>VS</span> Professional Deployments</h2>
                    <br>
                    <div >
                        <img width="440" data-src="images/minion3.gif">
                    </div>
                </section>

                <section>
                    <h2>How?</h2>
                </section>

                <section>
                    <section>
                        <h2>The 'Dogma'</h2>
                        <h3>The developers are the only responsibles of the code</h3>
                    </section>
                    <section>
                        <h2 class="mini">People that should not upload code:</h2>
                        <ul>
                            <li class="fragment">The client</li>
                            <li class="fragment">The marketing department</li>
                            <li class="fragment">The CEO / The boss</li>
                            <li class="fragment">Matt Mullenweg</li>
                        </ul>
                    </section>
                    <section>
                        <h2 class="mini">wp-config.php</h2>
                        <p>You should disallow modifications from the admin panel.</p>
                        <pre><code class="hljs" data-trim contenteditable>
&lt;?php

// Disable the Plugin and Theme Editor
define( 'DISALLOW_FILE_EDIT', true );
// Disable Plugin and Theme Update and Installation
define( 'DISALLOW_FILE_MODS', true );
// Disable All Automatic Updates
define( 'AUTOMATIC_UPDATER_DISABLED', true );

                        </code></pre>
                        <p><small>You can find more info about configuration constants in the <a href="https://codex.wordpress.org/Editing_wp-config.php">Wordpress Codex</a>.</small></p>
                    </section>
                    <section>
                        <h2 class="mini">Version Control System</h2>
                        <h3>Git</h3>
                        <p>Self hosted, Github, Bitbucket, Gitlab, VSO...</p>
                        <h3>Subversion</h3>
                        <p>No Pull Requests :(</p>
                    </section>
                    <section>
                        <h2 class="mini">Managing dependencies</h2>
                        <h3><a href="https://getcomposer.org/">Composer</a> + <a href="https://wpackagist.org/">WPackagist</a></h3>
                        <pre><code class="hljs" data-trim contenteditable>
# composer.json
{
    "name": "mycompany/brilliant-wordpress-site",
    "repositories":[
        {
            "type": "composer",
            "url": "https://wpackagist.org"
        }
    ],
    "require": {
        "php": ">=5.4",
        "johnpbloch/wordpress": "^4.5",
        "wpackagist-plugin/wordpress-seo": "^3.2",
        "wpackagist-plugin/mailchimp-for-wp": "^3.1",
        "wpackagist-theme/yourparenttheme": "^1.3",
    }
}
                        </code></pre>
                        <p><small><a href="https://wp-cli.org/">WP-CLI</a> could be another option to manage dependencies.</small></p>
                    </section>
                    <section>
                        <h2 class="mini">Your code: Themes &amp; Plugins</h2>
                        <ul>
                            <li>All your code should be organized in Themes &amp; Plugins, and it's the only code that
                            should be in the source control.</li>
                            <li>Don't modify any dependency. Not plugins, neither themes. Use <strong>hooks</strong>, <strong>actions</strong> and <strong>child themes</strong> to override them.</li>
                        </ul>
                    </section>
                    <section>
                        <h2 class="mini">Branching and pull requests</h2>
                        <ul>
                            <li><a href="https://www.atlassian.com/git/tutorials/comparing-workflows">Git workflows</a>: Centralized, Feature Branch, Gitflow, Forking Workflow...</li>
                            <li>Implement code review with pull requests. Check this <a href="http://tech.veinteractive.com/the-code-review-process.html">list of rules</a> to enhance your code review process.</li>
                        </ul>
                    </section>
                    <section data-background="images/minions5.jpg">
                        <h1>Let's<br> make a<br> Pull<br> Request!</h1>
                    </section>

                </section>

                <section>
                    <section>
                        <h2>The 'Rule'</h2>
                        <h3>There is not any manual step in the deployment process</h3>
                    </section>
                    <section>
                        <h2 class="mini">No more "Works on my machine"</h2>
                        <ul>
                            <li class="fragment">Make clear you definition of done.</li>
                            <li class="fragment">Replicate your production environment: <a href="https://www.vagrantup.com/">Vagrant</a>, <a href="https://www.docker.com/">Docker</a>, <a href="https://puppet.com/">Puppet</a>, <a href="https://www.chef.io/">Chef</a>,...</li>
                            <li class="fragment">Create staging environments</li>
                        </ul>
                    </section>
                    <section>
                        <h2 class="mini">Deployment Tools / Task Runners</h2>
                        <ul>
                            <li>PHP tools: <a href="http://deployer.org/">Deployer</a>, <a href="http://magephp.com/">Magallanes</a>, <a href="https://www.phing.info/">Phing</a>, ...</li>
                            <li>Other tools: <a href="http://gruntjs.com/">Grunt</a>, <a href="http://gulpjs.com/">Gulp</a>, <a href="http://ant.apache.org/">Ant</a>, ...</li>
                        </ul>
                    </section>
                    <section>
                        <h2 class="mini">Example with Deployer</h2>

                        <p>Install it with <em>composer</em>:</p>

                        <pre><code class="hljs" data-trim contenteditable>
composer require --dev deployer/deployer
composer require --dev deployphp/recipes
                        </code></pre>

                        <p>Your <em>composer.json</em> should include now a reference to the dependencies:</p>

                        <pre><code class="hljs" data-trim contenteditable>
# composer.json
# ...
    "require-dev": {
        "deployer/deployer": "^3.2",
        "deployphp/recipes": "^3.1",
    },
# ...
                        </code></pre>
                    </section>
                    <section>
                        <h2 class="mini">Example with Deployer</h2>

                        <p>Configure your deploy steps in the <em>deploy.php</em> file:</p>

                        <pre><code class="hljs" data-trim contenteditable>
&lt;?php
// deploy.php
require 'recipe/common.php';
require 'vendor/deployphp/recipes/recipes/configure.php';
require 'vendor/deployphp/recipes/recipes/rsync.php';

set('shared_dirs', [
    'wp-content/uploads',
    'wp-content/cache',
]);
set('shared_files', [
    'wp-config.php',
]);
set('writable_use_sudo', false);
set('http_user', 'deploy');
env('rsync_src', __DIR__ . '/src');
set('rsync', [
    'exclude' => [
        'wp-content/upgrade',
        'wp-content/cache',
        'wp-config.php',
        'wp-content/uploads',
    ],
]);
set('keep_releases', 5);

task('deploy', [
  'deploy:prepare',
  'deploy:release',
  'deploy:configure',
  'rsync',
  'deploy:shared',
  'deploy:symlink',
  'cleanup',
])->desc('Deploy project');
after('deploy', 'success');

serverList(__DIR__ . '/servers.yml');
                        </code></pre>
                    </section>
                    <section>
                        <h2 class="mini">Example with Deployer</h2>

                        <p>Configure your deployment credentials and servers in the <em>servers.yml</em> file:</p>

                        <pre><code class="hljs" data-trim contenteditable>
# servers.yml
staging:
  host: staging.sinrumbofijo.com
  user: deploy
  identity_file:
    public_key:  deploy_rsa.pub
    private_key: deploy_rsa
    password:    ''
  stage: staging
  deploy_path: /home/www/staging.sinrumbofijo.com
  app:
    url: http://staging.sinrumbofijo.com
    root: /home/www/staging.sinrumbofijo.com/current
    db:
      name: 'staging_database_name'
      user: 'staging_database_user'
      pass: 'staging_database_pass'
      host: 'staging_database_host'
    secret:
      auth_key: 'write a better secret here'
      secure_auth_key: 'write a better secret here'
      logged_in_key: 'write a better secret here'
      nonce_key: 'write a better secret here'
      auth_salt: 'write a better secret here'
      secure_auth_salt: 'write a better secret here'
      logged_in_salt: 'write a better secret here'
      nonce_salt: 'write a better secret here'

production:
  host: www.sinrumbofijo.com
  user: deploy
  identity_file:
    public_key:  deploy_rsa.pub
    private_key: deploy_rsa
    password:    ''
  stage: staging
  deploy_path: /home/www/www.sinrumbofijo.com
  app:
    url: http://www.sinrumbofijo.com
    root: /home/www/www.sinrumbofijo.com/current
    db:
      name: 'production_database_name'
      user: 'production_database_user'
      pass: 'production_database_pass'
      host: 'production_database_host'
    secret:
      auth_key: 'write a better secret here'
      secure_auth_key: 'write a better secret here'
      logged_in_key: 'write a better secret here'
      nonce_key: 'write a better secret here'
      auth_salt: 'write a better secret here'
      secure_auth_salt: 'write a better secret here'
      logged_in_salt: 'write a better secret here'
      nonce_salt: 'write a better secret here'

                        </code></pre>
                    </section>
                    <section>
                        <h2 class="mini">Example with Deployer</h2>

                        <p>And now, deploy is as simple as:</p>

                        <pre><code class="hljs" data-trim contenteditable>
./vendor/bin/dep deploy staging
                        </code></pre>
                        <pre><code class="hljs" data-trim contenteditable>
./vendor/bin/dep deploy production
                        </code></pre>
                    </section>
                    <section>
                        <h2 class="mini">Continous Integration Tools</h2>
                        <div class="fragment">
                            <img data-src="images/ci.png" >

                            <p><small>You can see a detailed comparison in <a href="http://stackshare.io/continuous-integration">Stackshare</a>.</small></p>
                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Example with Snap.CI</h2>
                        <img data-src="images/snap.png" >
                        <ul>
                            <li>I like <a href="https://snap-ci.com/">Snap</a> because of its implementation of the 'Deployment Pipeline' concept.</li>
                            <li>Software as a Service.</li>
                            <li>Free for Open Source projects.</li>
                            <li><a href="https://jenkins.io/">Jenkins</a> (free) or <a href="https://www.jetbrains.com/teamcity/">TeamCity</a> (freemium) are probably the best options for a self-hosted tool.</li>
                        </ul>
                    </section>
                    <section>
                        <h2 class="mini">Example with Snap.CI</h2>
                        <p>
                            <img data-src="images/snapci1.png" >
                        </p>
                        <p>
                            <small><a href="https://snap-ci.com/artberri/sinrumbofijo/branch/master">https://snap-ci.com/artberri/sinrumbofijo/branch/master</a></small>
                        </p>
                    </section>
                    <section>
                        <h2 class="mini">Example with Snap.CI</h2>
                        <p>
                            <img data-src="images/deps-snap.png" >
                        </p>
                    </section>
                    <section>
                        <h2 class="mini">Example with Snap.CI</h2>
                        <p>
                            <img data-src="images/staging-snap.png" >
                        </p>
                    </section>
                    <section>
                        <h2 class="mini">Example with Snap.CI</h2>
                        <p>
                            <img data-src="images/prod-snap.png" >
                        </p>
                    </section>

                    <section data-background="images/minions6.jpg">
                        <h1>So...<br> Would you<br> dare to<br> make a deploy<br> right now?</h1>
                    </section>

                </section>

                <section>
                    <section>
                        <h2>The 'Better'</h2>
                        <h3>There is not any manual step in the QA / Test process</h3>
                    </section>
                    <section>
                        <h2>Before Deployment</h2>
                    </section>
                    <section>
                        <h2 class="mini">Linting</h2>

                        <p>Ensure all the team use the same (and the proper) coding conventions with <a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP_CodeSniffer</a>, it will also help you avoiding some errors.</p>

                        <div class="fragment">
                            <p>Install <a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP_CodeSniffer</a> with <em>composer</em>:</p>

                            <pre><code class="hljs" data-trim contenteditable>
composer require --dev squizlabs/php_codesniffer
composer require --dev wp-coding-standards/wpcs:dev-master
                            </code></pre>


                            <pre><code class="hljs" data-trim contenteditable>
# composer.json
# ...
    "require-dev": {
        "squizlabs/php_codesniffer": "^2.6",
        "wp-coding-standards/wpcs": "dev-master",
    },
# ...
                            </code></pre>
                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Linting</h2>

                        <p>Configure your rules in the <em>phpcs.xml</em> file.</p>

                        <div class="">

                            <pre><code class="hljs" data-trim contenteditable>
&lt;!-- phpcs.xml --&gt;

&lt;?xml version="1.0"?&gt;
&lt;ruleset name="PHP_CodeSniffer"&gt;
  &lt;description&gt;The coding standard for PHP_CodeSniffer itself.&lt;/description&gt;

  &lt;file&gt;src/wp-content/themes/your-theme&lt;/file&gt;
  &lt;file&gt;src/wp-content/plugins/your-plugin1&lt;/file&gt;
  &lt;file&gt;src/wp-content/plugins/your-plugin2&lt;/file&gt;

  &lt;arg name="report" value="summary"/&gt;
  &lt;arg value="np"/&gt;

  &lt;rule ref="PEAR.WhiteSpace.ScopeIndent"&gt;
    &lt;properties&gt;
      &lt;property name="indent" value="2"/&gt;
    &lt;/properties&gt;
  &lt;/rule&gt;

  &lt;rule ref="vendor/wp-coding-standards/wpcs"/&gt;
&lt;/ruleset&gt;
                            </code></pre>

                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Linting</h2>

                        <p>Add the task to your task runner.</p>

                        <div class="">
                            <pre><code class="hljs" data-trim contenteditable>
&lt;?php
// deploy.php

require 'recipes/qa.php';

                            </code></pre>
                            <pre><code class="hljs" data-trim contenteditable>
&lt;?php
// recipes/qa.php

task('qa:phpcs', function () {
  $output = runLocally('./vendor/bin/phpcs');
  writeln('<info>' . $output . '</info>');
})->desc('Run PHPCS');

task('qa', [
  'qa:phpcs',
])->desc('Code quality checks');

                            </code></pre>

                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Linting</h2>
                        <p>Other linting tools:</p>
                        <ul>
                            <li>PHP: <a href="https://phpmd.org/">PHPMD</a> (Mess Detector), <a href="https://github.com/sebastianbergmann/phpdcd">PHPDCD</a> (Dead Code Detector), <a href="https://github.com/sebastianbergmann/phpcpd">PHPCPD</a> (Copy/Paste Detector),...</li>
                            <li>Javascript: <a href="http://eslint.org/">Eslint</a>, <a href="http://jshint.com/">JSHint</a>, <a href="http://www.jslint.com/">JSLint</a>,...</li>
                            <li>CSS: <a href="https://github.com/CSSLint/csslint">CSSLint</a>, <a href="https://github.com/brigade/scss-lint">SASS Lint</a>,...</li>
                        </ul>
                    </section>
                    <section>
                        <h2 class="mini">Unit Testing</h2>
                        <blockquote>Do the things right</blockquote>
                        <p>Yes, you can (should) unit test your themes and plugins.</p>
                        <p class="fragment">Use <a href="https://phpunit.de/">PHPUnit</a> and <a href="https://github.com/10up/wp_mock">WP_Mock</a>.</p>
                        <p class="fragment"><small>WP_Mock is built and maintained by 10up where Lucy Tomas works, she is giving a talk after lunch</small></p>
                    </section>
                    <section>
                        <h2 class="mini">Unit Testing</h2>

                        <div class="">
                            <p>Install them with <em>composer</em>:</p>

                            <pre><code class="hljs" data-trim contenteditable>
composer require --dev phpunit/phpunit
composer require --dev 10up/wp_mock:dev-master
                            </code></pre>


                            <pre><code class="hljs" data-trim contenteditable>
# composer.json
# ...
    "require-dev": {
        "phpunit/phpunit": "^4.8",
        "10up/wp_mock": "dev-master",
    },
# ...
                            </code></pre>
                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Unit Testing</h2>

                        <p>Configure phpunit in the <em>phpunit.xml</em> file.</p>

                        <div class="">

                            <pre><code class="hljs" data-trim contenteditable>
&lt;!-- phpunit.xml --&gt;

&lt;phpunit bootstrap="tests/bootstrap.php"&gt;

  &lt;testsuites&gt;
    &lt;testsuite name="projectname"&gt;
      &lt;directory&gt;tests&lt;/directory&gt;
    &lt;/testsuite&gt;
  &lt;/testsuites&gt;

  &lt;filter&gt;
    &lt;whitelist processUncoveredFilesFromWhitelist="true"&gt;
      &lt;directory suffix=".php"&gt;src/wp-content/themes/your-theme&lt;/directory&gt;
    &lt;/whitelist&gt;
  &lt;/filter&gt;

  &lt;logging&gt;
    &lt;log type="coverage-html" target="reports/html/phpunit/coverage" lowUpperBound="35"
        highLowerBound="70"/&gt;
    &lt;log type="coverage-text" target="php://stdout" showUncoveredFiles="false"/&gt;
    &lt;log type="junit" target="reports/phpunit.results.xml" logIncompleteSkipped="false"/&gt;
  &lt;/logging&gt;

&lt;/phpunit&gt;
                            </code></pre>

                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Unit Testing</h2>

                        <p>Add the task to your task runner.</p>

                        <div class="">

                            <pre><code class="hljs" data-trim contenteditable>
&lt;?php
// recipes/qa.php

task('qa:phpunit', function () {
  $output = runLocally('./vendor/bin/phpunit');
  writeln('<info>' . $output . '</info>');
})->desc('Run PHPUnit');
task('qa:phpcs', function () {
  $output = runLocally('./vendor/bin/phpcs');
  writeln('<info>' . $output . '</info>');
})->desc('Run PHPCS');
task('qa', [
  'qa:phpcs',
  'qa:phpunit',
])->desc('Code quality checks');

                            </code></pre>
                            <p>Execute:</p>
                            <pre><code class="hljs" data-trim contenteditable>
./vendor/bin/dep qa
                            </code></pre>


                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Add them to your building pipeline</h2>
                        <p>
                            <img data-src="images/snapci2.png" >
                        </p>
                    </section>
                    <section>
                        <h2>After Deployment</h2>
                    </section>
                    <section>
                        <h2 class="mini">Functional Testing</h2>
                        <blockquote>Do the right things</blockquote>
                        <p>Yes, you can (should) do functional testing on your Wordpress website.</p>
                        <p class="fragment">Use <a href="http://docs.behat.org/">Behat</a>, <a href="http://mink.behat.org/">Mink</a>, <a href="https://github.com/FriendsOfPHP/Goutte">Goutte</a> and <a href="http://www.seleniumhq.org/    ">Selenium</a>.</p>
                    </section>
                    <section>
                        <h2 class="mini">Functional Testing</h2>

                        <div class="">
                            <p>Install them with <em>composer</em>:</p>

                            <pre><code class="hljs" data-trim contenteditable>
composer require --dev behat/behat
composer require --dev behat/mink-extension
composer require --dev behat/mink-goutte-driver
composer require --dev behat/mink-selenium2-driver
composer require --dev se/selenium-server-standalone
                            </code></pre>


                            <pre><code class="hljs" data-trim contenteditable>
# composer.json
# ...
    "require-dev": {
        "behat/behat": "~3.0.6",
        "behat/mink-extension": "^2.2",
        "behat/mink-goutte-driver": "^1.2",
        "behat/mink-selenium2-driver": "^1.3",
        "se/selenium-server-standalone": "^2.53"
    },
# ...
                            </code></pre>
                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Functional Testing</h2>

                        <p>Configure Behat in the <em>behat.yml</em> file.</p>

                        <div class="">

                            <pre><code class="hljs" data-trim contenteditable>
# behat.yml
default:
  extensions:
    Behat\MinkExtension:
      base_url: 'http://yoursite.local'
      browser_name: 'firefox'
      sessions:
        default:
          goutte: ~
        browser:
          selenium2: ~
      javascript_session: 'browser'
    emuse\BehatHTMLFormatter\BehatHTMLFormatterExtension:
      name: html
      renderer: Twig,Behat2
      file_name: index
      print_args: true
      print_outp: true
      loop_break: true
  formatters:
    pretty: true
    html:
      output_path: %paths.base%/reports/html/behat
staging:
  extensions:
    Behat\MinkExtension:
      base_url: 'http://staging.yoursite.com'
production:
  extensions:
    Behat\MinkExtension:
      base_url: 'http://www.yoursite.com'
                            </code></pre>

                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Functional Testing</h2>

                        <p>Define some tests (and implement them of course)</p>

                        <div class="">

                            <pre><code class="hljs" data-trim contenteditable>
@mink:browser
Feature: Article
    In order to interact with the author
    As a user
    I need to be able to read and comment articles or navigate to related info

    Background:
        Given I am on the homepage
        And I hover over the element ".smartlib-grid-list article.post .wp-post-image"
        And I click on ".smartlib-grid-list article.post .smartlib-caption-link"

    @smoke
    Scenario: See sections
        Then I should see "Deja un comentario"
        And I should see "Entradas relacionadas"
        And I should see "Entradas recientes"

    Scenario: Make a comment
        When I fill in the following:
        | author | Testuser |
        | email | test@example.com |
        | url | http://example.com |
        And I fill in "comment" with 15 random words
        And I press "Publicar comentario"
        Then I should see "Testuser"
                            </code></pre>

                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Functional Testing</h2>

                        <p>Add the task to your task runner.</p>

                        <div class="">

                            <pre><code class="hljs" data-trim contenteditable>
&lt;?php
// recipes/at.php

task('at', function () {
  $stage = env('app.stage');
  $testCommand = './vendor/bin/behat';
  if ('dev' != $stage) {
    $testCommand .= ' --profile=' . $stage;
  }

  $seleniumPid = runLocally('nohup ./vendor/bin/selenium-server-standalone > /dev/null 2> /dev/null & echo $!');
  writeln('<info>Selenium running with pid: ' . $seleniumPid . '</info>');

  writeln('<info>Waiting until selenium is started</info>');
  $output = runLocally('sleep 7');
  writeln('<info>Selenium started</info>');

  $output = runLocally($testCommand, 600);
  writeln('<info>' . $output . '</info>');

  $output = runLocally('kill ' . $seleniumPid);
  writeln('<info>Selenium stopped</info>');
})->desc('Run Acceptance Tests');

                            </code></pre>
                            <p>Execute:</p>
                            <pre><code class="hljs" data-trim contenteditable>
./vendor/bin/dep at staging
                            </code></pre>


                        </div>
                    </section>
                    <section>
                        <h2 class="mini">Add them to your building pipeline</h2>
                        <p>
                            <img data-src="images/snap-acceptance.png" >
                        </p>
                    </section>
                    <section>
                        <h2 class="mini">Add them to your building pipeline</h2>
                        <p>
                            <img data-src="images/snap-smoke.png" >
                        </p>
                    </section>
                </section>

                <section data-transition="fade-in">
                    <h3 class="mini">Finally, we have implemented...</h3>

                    <h2 class="mini fragment">Continous Delivery</h2>
                </section>

                <section data-transition-speed="fast" data-transition="fade-in ">
                    <h3 class="mini">Finally, we have implemented...</h3>

                    <h2 class="mini ">Continous Deployment</h2>
                </section>

                <section>
                    <h2 class="mini">Continous Delivery <br><span>VS</span><br> Continous deployment</h2>
                    <img data-src="images/continuous-delivery-deployment-sm.jpg" >

                    <p><small>Take a look to <a href="https://puppet.com/blog/continuous-delivery-vs-continuous-deployment-what-s-diff">this post</a> for more info.</small></p>
                </section>

                <section data-background="images/minions7.jpg">
                    <h1>Yes,<br> I remember <br> the deployment.<br>Let's see<br> if it sucess!</h1>
                </section>

                <section data-background="images/everythinkok.gif">

                </section>

                <section>
                    <div>
                        <h2 class="mini">Links of a full example</h2>
                        <ul>
                            <li><a href="https://github.com/artberri/sinrumbofijo">https://github.com/artberri/sinrumbofijo</a></li>
                            <li><a href="https://snap-ci.com/artberri/sinrumbofijo/branch/master">https://snap-ci.com/artberri/sinrumbofijo/branch/master</a></li>
                        </ul>
                    </div><br>
                    <div class="fragment">
                        <h2 class="mini">Good job!</h2>
                        <img src="images/wordpress-bilbao.jpg">
                    </div>
                </section>

                <section>
                    <h2 class="mini">Thank you</h2>
                    <div>
                        <img  data-src="images/thanks.gif" alt="Thank you" >
                    </div>
                    <p>Any Question?</p>
                </section>
            </div>

        </div>

        <script src="../lib/js/head.min.js"></script>
        <script src="../js/reveal.js"></script>

        <script>

            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: '../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: '../plugin/zoom-js/zoom.js', async: true },
                    { src: '../plugin/notes/notes.js', async: true }
                ]
            });

        </script>

    </body>
</html>
